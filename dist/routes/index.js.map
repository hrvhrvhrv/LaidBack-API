{"version":3,"sources":["../../src/routes/index.js"],"names":["router","use","config","db"],"mappings":";;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAJA;AANA;AAYA,IAAIA,SAAS,wBAAb;;AAEA;AACA,kBAAa,cAAM;;AAEf;AACAA,WAAOC,GAAP,CAAW,0BAAW,EAACC,wBAAD,EAASC,MAAT,EAAX,CAAX;;AAEA;AACAH,WAAOC,GAAP,CAAW,QAAX,EAAqB,+BAAgB,EAACC,wBAAD,EAASC,MAAT,EAAhB,CAArB;AACAH,WAAOC,GAAP,CAAW,UAAX,EAAuB,8BAAe,EAACC,wBAAD,EAASC,MAAT,EAAf,CAAvB;AACAH,WAAOC,GAAP,CAAW,OAAX,EAAoB,8BAAe,EAACC,wBAAD,EAASC,MAAT,EAAf,CAApB;AACAH,WAAOC,GAAP,CAAW,SAAX,EAAsB,gCAAiB,EAACC,wBAAD,EAASC,MAAT,EAAjB,CAAtB;AAEH,CAXD;;kBAaeH,M","file":"index.js","sourcesContent":["// required modules imported to define routes\nimport express from 'express';\nimport config from '../config';\nimport initializeDb from '../db';\nimport middleware from '../middleware';\n\n// controller components imported to be usued as part of the api routes\nimport pupilController from '../controller/pupilController';\nimport blogController from '../controller/blogController';\nimport lessonController from '../controller/LessonController';\nimport authController from '../controller/AuthController';\n\nlet router = express();\n\n// connect to db\ninitializeDb(db => {\n\n    // internal middleware\n    router.use(middleware({config, db}));\n\n    // api routes v1 (/v1)\n    router.use('/pupil', pupilController({config, db}));\n    router.use('/account', authController({config, db}));\n    router.use('/blog', blogController({config, db}));\n    router.use('/lesson', lessonController({config, db}));\n\n});\n\nexport default router;\n"]}